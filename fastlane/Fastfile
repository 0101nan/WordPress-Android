# This file contains the fastlane.tools configuration
# You can find the documentation at https://docs.fastlane.tools
#
# For a list of all available actions, check out
#
#     https://docs.fastlane.tools/actions
#
# For a list of all available plugins, check out
#
#     https://docs.fastlane.tools/plugins/available-plugins
#

# Uncomment the line if you want fastlane to automatically update itself
# update_fastlane

default_platform(:android)

desc "Updates the PlayStoreStrings.po file"
lane :update_ps_string do |options| 
  prj_folder = Dir.pwd + "/.."

  files = {
    release_note: prj_folder + "/WordPress/metadata/release_notes.txt",
    play_store_promo: prj_folder + "/WordPress/metadata/short_description.txt",
    play_store_desc: prj_folder + "/WordPress/metadata/full_description.txt",
    play_store_app_title: prj_folder + "/WordPress/metadata/title.txt"
  }

  update_metadata_source(po_file_path: prj_folder + "/WordPress/metadata/PlayStoreStrings.po", 
    source_files: files, 
    release_version: options[:version])
end 


